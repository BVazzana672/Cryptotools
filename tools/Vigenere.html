<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Vigenere Cipher</title>
    <script src="../jquery.js"></script> 
    <script> 
    $(function(){
      $("#includedContent").load("../header.html"); 
    });
    </script> 
    <script type="text/javascript" src="../script.js"></script>

    <link rel="stylesheet" type="text/css" href="../jba_style.css">

</head>





<body>

    <div id="includedContent"></div>
          
          
    <table style="width:100%"  cellspacing="0" cellpadding="07" >
        <col style="width:15%">
        <col style="width:85%">
  
    <tr> 
    <td valign="top" width="122" style="background-color:rgb(152, 177, 201)"> 
    </td>
        
    <td>


        <h3>Encyryption   </h3>
        <div id="vigEncrypt" class="default">
  
        Plaintext:
        <textarea type="text" rows=4 cols=100 id="vigEncryptPlaintext"></textarea> <br />
        Keyword:
        <input type="text" id="vigEncyrptKey">
        <button id="btnTxtNum" onclick=btnTxtNumClick()>Submit</button>
        </div>

        <h3>Decyryption   </h3>
        <div id="vigDecrypt" class="default">
  
        Plaintext:
        <textarea type="text" rows=4 cols=100 id="vigDecryptCiphertext"></textarea> <br />
        Keyword:
        <input type="text" id="vigDecryptKey">
        <button id="btnTxtNum" onclick=btnTxtNumClick()>Submit</button>
        </div>

        <h3>Quadgraph Search  </h3>
        <div id="quadgraphSearch" class="default">
  
        Ciphertext:
        <textarea type="text" rows=4 cols=100 id="quadgraphCiphertext"></textarea> <br />
        Number of Quadgraphs
        <input type="text" id="numberQuadgraphs">
        <script>
          function btnQuadGraphClick() {
            let text = document.getElementById("quadgraphCiphertext").value;
            let nQuadGraphs = parseInt(document.getElementById("numberQuadgraphs").value);
            let txtClean = cleanText(text);
            let dict = frequencyAnalysis(txtClean, 4);
            let table = document.getElementById("quad_Graph_Table");
            if(table.rows.length == 1) {
              for(let i = 1; i <= nQuadGraphs; i++) {
                let row = table.insertRow(i);
                let cellQuadGraph = row.insertCell(0);
                let cellFrequency = row.insertCell(1);
                let n = -1;
                let selectedKey = "";
                for(key in dict) {
                  let value = dict[key];
                  if(value > n) {
                    n = value;
                    selectedKey = key;
                  }
                }
                cellQuadGraph.innerHTML = selectedKey;
                cellFrequency.innerHTML = dict[selectedKey];
                delete dict[selectedKey];
              }
            }
          }
        </script>          
        <button id="btnQuadGraph" onclick=btnQuadGraphClick()>Submit</button>
        </div>

        <p>
          <table id="quad_Graph_Table">
          <tr>
           <td>Quadgraph </td>
           <td>Frequency</td>
          </tr>
          </table>  
        </p>

        <h3>Subtext Frequency Analysis  </h3>
        <div id="subtextFreqAnalysis" class="default">
  
        Ciphertext:
        <textarea type="text" rows=4 cols=100 id="freqAnalysisCiphertext"></textarea> <br>
        Keyword length
        <input type="text" id="keywordLength">
        <script>
          function btnSubtextClick() {
            let n = parseInt(document.getElementById("keywordLength").value);
            let text = cleanText(document.getElementById("freqAnalysisCiphertext").value);
            let table = document.getElementById("freq_Analysis_Table");
            for(let i = 0; i < n; i++) {
              let subtext = "";
              for(let j = i; j < text.length; j += n) {
                subtext = subtext.concat(text.charAt(j));
              }
              let dict = frequencyAnalysis(subtext, 1);
              for(let j = 0; j < 26; j++) {
                let row = table.rows[j + 1];
                let cell = row.insertCell();
                let char = String.fromCharCode(65 + j);
                let value = dict[char];
                if(dict.hasOwnProperty(char)) {
                  cell.innerHTML = dict[char];
                } else {
                  cell.innerHTML = 0;
                }
              }
            }
          }
        </script>
        <button id="btnSubtext" onclick=btnSubtextClick()>Submit</button>
        </div>
        <p>
          <table id="freq_Analysis_Table">       <tr>
            <td><h3>Letter</h3></td>
            <td><h3>Rel. Freq.</h3></td>
        </tr>
        <tr>
        <td>a</td><td></td>
        </tr>
        <tr>
          <td>b</td><td></td>
        </tr>
        <tr>
          <td>c</td><td></td>
        </tr>
        <tr>
          <td>d</td><td></td>
        </tr>
        <tr>
          <td>e</td><td></td>
        </tr>
        <tr>
          <td>f</td><td></td>
        </tr>
        <tr>
          <td>g</td><td></td>
        </tr>
        <tr>
          <td>h</td><td></td>
        </tr>
        <tr>
          <td>i</td><td></td>
        </tr>
        <tr>
          <td>j</td><td></td>
        </tr>
        <tr>
          <td>k</td><td></td>
        </tr>
        <tr>
          <td>l</td><td></td>
        </tr>
        <tr>
          <td>m</td><td></td>
        </tr>
        <tr>
          <td>n</td><td></td>
        </tr>
        <tr>
          <td>o</td><td></td>
        </tr>
        <tr>
          <td>p</td><td></td>
        </tr>
        <tr>
          <td>q</td><td></td>
        </tr>
        <tr>
          <td>r</td><td></td>
        </tr>
        <tr>
          <td>s</td><td></td>
        </tr>
        <tr>
          <td>t</td><td></td>
        </tr>
        <tr>
          <td>u</td><td></td>
        </tr>
        <tr>
          <td>v</td><td></td>
        </tr>
        <tr>
          <td>w</td><td></td>
        </tr>
        <tr>
          <td>x</td><td></td>
        </tr>
        <tr>
          <td>y</td><td></td>
        </tr>
        <tr>
          <td>z</td><td></td>
        </tr>


          </table>
        </p>

      </td>
    </tr>

    </table>

</body>
</html>