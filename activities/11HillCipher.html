<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>The Hill Cipher</title>
    
    <script src="../jquery.js"></script> 
    <script> 
        $(function(){
          $("#includedContent").load("../header.html"); 
        });
    </script> 
    <script type="text/javascript" src="../script.js"></script>
    <link rel="stylesheet" type="text/css" href="../jba_style.css">
</head>


<body>
    <div id="includedContent"></div>

        
<table style="width:100%"  cellspacing="0" cellpadding="07" >
    <col style="width:15%">
    <col style="width:85%">
    <tr> 
    <td valign="top" width="122" style="background-color:rgb(152, 177, 201)"> 
    </td>
    <td>

    <h1>The Hill Cipher</h1>

    <!--TODO
    Create a tool for the Hill Cipher
    The input will be the plain text and a 2x2 matrix:
        a b
        c d
    1) Check that their matrix is invertible  (i.e. that ad-bc isn't 0) and warn them if it isn't
    2) Clean the text
    3) If the length is odd, append a "q" onto the end
    4) Convert text to a string of numbers
    5) Replace the first pair m, n with am+bn, cm+dn mod 26
    6) Repeat on second pair, third pair and so on until the end of the list is reached
    7) Convert back to letters, capital, in blocks of 4
    -->

    <div id="hillCipher" class="default">
        <h3>Algorithm (Encryption and Decryption)</h3>
        Text:
        <input type="text" id="txtHill"> <br />
        <p id="matWarning"></p>
        Matrix (Format: "a, b, c, d"):
        <input type="text" id="txtMatrix"> <br />
        <button id="btnSubmit" onclick=btnSubmitOnClick()>Submit</button>
        <script>
            function btnSubmitOnClick() {
                let text = document.getElementById('txtHill').value;
                let matStr = document.getElementById('txtMatrix').value;
                matStr = removeSpaces(matStr);
                let matListStr = matStr.split(',');
                let mat2 = [];
                for(let i = 0; i < matListStr.length; i++) {
                    mat2.push(matListStr[i]);
                }
                let det = mat2[0] * mat2[3] - mat2[1] * mat2[2];
                if(det == 0) {
                    document.getElementById('matWarning').innerHTML = "WARNING: Matrix is not invertible!";
                }
                document.getElementById('hillResult').innerHTML = hillCipher(text, mat2);
            }
        </script>
        <p id="hillResult"></p>
    </div>
        
    </td>
    </tr>
</table>
</body>
</html>