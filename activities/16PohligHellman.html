<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>The Pohlig Hellman Algorithm</title>
    
    <script src="../jquery.js"></script> 
    <script> 
        $(function(){
          $("#includedContent").load("../header.html"); 
        });
    </script> 
    <script type="text/javascript" src="../script.js"></script>
    <link rel="stylesheet" type="text/css" href="../jba_style.css">
</head>


<body>
    <div id="includedContent" class="default"></div>

        
<table style="width:100%"  cellspacing="0" cellpadding="07" >
    <col style="width:15%">
    <col style="width:85%">
    <tr> 
    <td valign="top" width="122" style="background-color:rgb(152, 177, 201)"> 
    </td>
    <td>
    <h1> The Pohlig Hellman Algorithm</h1>

    <!-- TODO

        1) Input message, clean it. Convert to a list of numbers, consolidate each set of four numbers into a single number but padding single digit numbers with a 0 in front. For instance 
        abcdefgh ->  1 2 3 4 5 6 7 8 -> 01020304 05060708
        2) Procedure to find next prime after input n (May just put this somewhere else)
        3) Procedure to compute the multiplicative inverse of t mod n (This is essentially the extended gcd and might go elsewhere)
        4) Given a prime p, an exponent t, and list of numbers compute the t-th power mod of each number in the list
        5) Procedure to reverse step 1


    -->
    <h3>Next Prime</h3>
    Number:
    <input type="text" id="txtNextPrime">
    <script>
        function btnNextPrimeOnClick() {
            let n = parseInt(document.getElementById('txtNextPrime').value);
            let p = findNextPrime(n);
            document.getElementById('nextPrimeResult').innerHTML = p;
        }
    </script>
    <button id="btnNextPrime" onclick=btnNextPrimeOnClick()>Submit</button> <br />
    <p id="nextPrimeResult"></p>

    <h3>GCD</h3>
    First number:
    <input type="text" id="txtGcdA"> <br />
    Second number:
    <input type="text" id="txtGcdB"> <br />
    <script>
        function btnGcdOnClick() {
            let a = parseInt(document.getElementById('txtGcdA').value);
            let b = parseInt(document.getElementById('txtGcdB').value);
            let result = gcd(a, b);
            document.getElementById('gcdResult').innerHTML = result;
        }
    </script>
    <button id="btnGcd" onclick=btnGcdOnClick()>Submit</button> <br />
    <p id="gcdResult"></p>

    <h3>Number List Conversion</h3>
    Text:
    <input type="text" id="txtNumList">
    <script>
        function btnNumListOnClick() {
            let text = document.getElementById('txtNumList').value;
            text = cleanText(text);
            let nums = phTxtNums(text);
            document.getElementById('numListResult').innerHTML = nums;
        }
    </script>
    <button id="btnNumList" onclick=btnNumListOnClick()>Submit</button> <br />
    <p id="numListResult"></p>

    <h3>Exponentiation</h3>
    Number List:
    <input type="text" id="txtExponentiateNums"> <br />
    Exponent:
    <input type="text" id="txtExponentiatePow"> <br />
    Modulus:
    <input type="text" id="txtExponentiateMod"> <br />
    <script>
        function btnExponentiateOnClick() {
            let numsStr = document.getElementById('txtExponentiateNums').value;
            numsStr = removeSpaces(numsStr);
            let nums = numsStr.split(',');
            let t = parseInt(document.getElementById('txtExponentiatePow').value);
            let p = parseInt(document.getElementById('txtExponentiateMod').value);
            let result = phExponentiate(nums, t, p);
            document.getElementById('exponentiateResult').innerHTML = result;
        }
    </script>
    <button id="btnExponentiate" onclick=btnExponentiateOnClick()>Submit</button><br />
    <p id="exponentiateResult"></p>

    <h4>Multiplicative Inverse</h4>
        Number:
        <input type="text" id="txtMultInverseNum"> <br />
        Modulus:
        <input type="text" id="txtMultInverseMod"> <br />
        <script>
            function btnMultInverseOnClick() {
                let a = parseInt(document.getElementById('txtMultInverseNum').value);
                let b = parseInt(document.getElementById('txtMultInverseMod').value);
                let inverse = extendedGcd(a, b)[1];
                if(inverse < 0) inverse += b;
                inverse %= b;
                document.getElementById('multInverseResult').innerHTML = inverse;
            }
        </script>
        <button id="btnMultInverse" onclick=btnMultInverseOnClick()>Submit</button><br />
        <p id="multInverseResult"></p>

        <h4>Numbers to Text</h4>
        <input type="text" id="txtNumText"> <br />
        <script>
            function btnNumTxtOnClick() {
                let numsStr = document.getElementById('txtNumText').value;
                numsStr = removeSpaces(numsStr);
                let nums = numsStr.split(',');
                for(let i = 0; i < nums.length; i++) {
                    nums[i] = parseInt(nums[i]);
                }
                console.log(nums);
                let result = phNumsTxt(nums);
                document.getElementById('numTxtResult').innerHTML = result;
            }
        </script>
        <button id="btnNumTxt" onclick=btnNumTxtOnClick()>Submit</button><br />
        <p id="numTxtResult"></p>
    </td>
    </tr>
</table>
</body>
</html>